!function(){function e(e,t){e&&(postResult({line:e}),t())}metadata={systemName:"csvreader",displayName:"CSV Reader Broker",description:"A broker that reads a CSV file and returns each line as a list."},ondescribe=async function({configuration:e}){postSchema({objects:{lines:{displayName:"Lines",description:"Describes all lines in a CSV file",properties:{file:{displayName:"File",type:"attachment"},line:{displayName:"Line",type:"string"}},methods:{getLines:{displayName:"Get Lines",type:"read",inputs:["file"],outputs:["line"]}}}}})},onexecute=async function({objectName:t,methodName:s,parameters:a,properties:i,configuration:n,schema:r}){switch(t){case"lines":await async function(t,s){switch(t){case"getLines":await new Promise((t,s)=>{try{!function(e,t,s){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&(200==a.status?t(a.responseText,s):t(null))},a.open("GET",e),a.send()}("https://drive.google.com/file/d/1bwNwJdqMl8kHNVMEchUSwf58zPphs1Zc/view?usp=sharing",e,t)}catch(e){s(e)}});break;default:throw new Error("The method "+t+" is not supported.")}}(s);break;default:throw new Error("The object "+t+" is not supported.")}}}();
//# sourceMappingURL=index.js.map
