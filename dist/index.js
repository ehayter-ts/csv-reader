!function(){const e=require("buffer-from");metadata={systemName:"csvreader",displayName:"CSV Reader Broker",description:"A broker that reads a CSV file and returns each line as a list."},ondescribe=async function({configuration:e}){postSchema({objects:{lines:{displayName:"Lines",description:"Describes all lines in a CSV file",properties:{fileContent:{displayName:"File Content",type:"string"},line:{displayName:"Line",type:"string"}},methods:{getLines:{displayName:"Get Lines",type:"read",inputs:["fileContent"],outputs:["line"]}}}}})},onexecute=async function({objectName:t,methodName:n,parameters:i,properties:s,configuration:a,schema:r}){switch(t){case"lines":await async function(t,n){switch(t){case"getLines":await function(t){return new Promise((n,i)=>{try{const i=e(t.fileContent.toString(),"base64").toString("utf-8");postResult({line:i}),n()}catch(e){i(e)}})}(n);break;default:throw new Error("The method "+t+" is not supported.")}}(n,s);break;default:throw new Error("The object "+t+" is not supported.")}}}();
//# sourceMappingURL=index.js.map
