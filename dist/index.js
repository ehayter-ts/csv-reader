!function(){function e(e,t){e&&(postResult({line:e}),t())}metadata={systemName:"csvreader",displayName:"CSV Reader Broker",description:"A broker that reads a CSV file and returns each line as a list."},ondescribe=async function({configuration:e}){postSchema({objects:{lines:{displayName:"Lines",description:"Describes all lines in a CSV file",properties:{file:{displayName:"File",type:"attachment"},line:{displayName:"Line",type:"string"},output:{displayName:"Output File",type:"attachment"}},methods:{getLines:{displayName:"Get Lines",type:"read",inputs:["file"],outputs:["line","output"]}}}}})},onexecute=async function({objectName:t,methodName:a,parameters:s,properties:i,configuration:n,schema:o}){switch(t){case"lines":await async function(t,a){switch(t){case"getLines":await new Promise((t,a)=>{try{!function(e,t,a){var s=new XMLHttpRequest;s.onreadystatechange=function(){4==s.readyState&&(200==s.status?t(s.responseText,a):t(null))},s.open("GET",e),s.send()}("https://drive.google.com/file/d/1bwNwJdqMl8kHNVMEchUSwf58zPphs1Zc/view?usp=sharing",e,t)}catch(e){a(e)}});break;default:throw new Error("The method "+t+" is not supported.")}}(a);break;default:throw new Error("The object "+t+" is not supported.")}}}();
//# sourceMappingURL=index.js.map
