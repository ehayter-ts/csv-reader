metadata={systemName:"csvreader",displayName:"CSV Reader Broker",description:"A broker that reads a CSV file and returns each line as a list."},ondescribe=async function({configuration:e}){postSchema({objects:{lines:{displayName:"Lines",description:"Describes all lines in a CSV file",properties:{fileContent:{displayName:"File Content",type:"string"},line:{displayName:"Line",type:"string"}},methods:{getLines:{displayName:"Get Lines",type:"read",inputs:["fileContent"],outputs:["line"]}}}}})},onexecute=async function({objectName:e,methodName:t,parameters:n,properties:i,configuration:s,schema:a}){switch(e){case"lines":await async function(e,t){switch(e){case"getLines":await function(e){return new Promise((t,n)=>{try{const n=bufferFrom(e.fileContent.toString(),"base64").toString("utf-8");postResult({line:n}),t()}catch(e){n(e)}})}(t);break;default:throw new Error("The method "+e+" is not supported.")}}(t,i);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
